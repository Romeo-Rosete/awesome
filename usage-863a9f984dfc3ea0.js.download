(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9490],{32052:function(e,t,a){"use strict";a.d(t,{Z:function(){return global_Number_Number}});var i=["","k","M","B","T",""],Number_abbreviateNumber=function(e){if(!e||e<1&&e>-1)return"number"==typeof e?e.toString():null;var t=Math.floor(Math.log(Math.abs(e))/Math.log(1e3)),a=i[Math.min(t,i.length)],r=String(Math.abs(e)/Math.pow(1e3,t)).substring(0,3),n=r.endsWith(".")?r.slice(0,-1):r;return"".concat(e<0?"-":"").concat(n).concat(a)},Number_relativeRound=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(!e)return 0;var a=Math.floor(Math.log10(Math.abs(e)))-t;return parseFloat((Math[e<0?"floor":"ceil"](e/Math.pow(10,a))*Math.pow(10,a)).toPrecision(12))},r=a(52903),global_Number_Number=function(e){var t=e.children,a=e.infinityLabel,i=e.isAbbreviated,n=void 0!==i&&i,l=e.isFriendly,s=e.isNegativeOneInfinity,o=e.maxDecimals,d=e.minDecimals,c=e.nanLabel,p=t;return isNaN(p)||"number"!=typeof p?(0,r.tZ)("span",{children:void 0===c?"NaN":c}):!isFinite(p)||void 0!==s&&s&&-1===p?(0,r.tZ)("span",{children:void 0===a?"Infinity":a}):(void 0!==l&&l&&(p=Number_relativeRound(p)),p=n?Number_abbreviateNumber(p):p.toLocaleString(void 0,{maximumFractionDigits:void 0===o?2:o,minimumFractionDigits:void 0===d?0:d}),(0,r.tZ)("span",{title:n?t.toLocaleString():void 0,children:p}))}},93716:function(e,t,a){"use strict";var i=a(26215),r=a(31783),n=a(52903),l={root:{name:"11vg012-ExternalEditLink--root",styles:"display:grid;align-items:center;font-weight:bold;grid-auto-flow:column;grid-gap:5px;justify-content:flex-start;label:ExternalEditLink--root;"}},stopPropagation=function(e){return e.stopPropagation(),!1};t.Z=function(e){return(0,n.BX)("div",{css:l.root,children:[(0,n.tZ)(r.A,{serviceName:e.logoClass,size:20},e.logoClass),(0,n.BX)(i.r,{href:e.sourceUrl||void 0,onClick:stopPropagation,target:"_blank",children:["Edit in ",e.serviceName]})]})}},30982:function(e,t,a){"use strict";var i=a(28165),r=a(2784),n=a(52903),l={name:"3qivvs-TruncatedText--truncatedTextStyle",styles:"box-orient:vertical;-webkit-box-orient:vertical;display:inline-block;max-width:100%;overflow:hidden;text-overflow:ellipsis;vertical-align:text-bottom;white-space:nowrap;word-wrap:normal;label:TruncatedText--truncatedTextStyle;"},s={name:"20h900-TruncatedText--blockStyle",styles:"display:block;label:TruncatedText--blockStyle;"};t.Z=function(e){var t=e.children,a=e.id,o=e.isBlock,d=e.lines,c=void 0===d?1:d,p=e.title,u=r.Children.toArray(t),g=u.every(function(e){return"string"==typeof(e||"")||"number"==typeof e})?u.join(" "):void 0;return(0,n.tZ)("span",{css:[l,void 0!==o&&o&&s,c>1&&(0,i.iv)("display:-webkit-box;line-clamp:",c,";-webkit-line-clamp:",c,";white-space:inherit;;label:TruncatedText--multiLineStyle;"),";label:TruncatedText--TruncatedText;"],id:a,title:p||g,children:t})}},44779:function(e,t,a){"use strict";function areFiltersEmpty(e){var t=["app","folderId","nodeId","ownerId"];return Object.keys(e).filter(function(e){return t.includes(e)}).every(function(t){return void 0===e[t]})&&""===e.search&&0===Object.keys(e.dateFilter||{}).length&&0===Object.keys(e.status||[]).length}function getActiveFilterNames(e){return Object.keys(e).filter(function(t){var a=e[t];return"dateFilter"!==t&&"page"!==t&&(Array.isArray(a)?a.length>0:!!a)}).sort(function(e,t){return e.localeCompare(t)}).join(",")}a.d(t,{g:function(){return areFiltersEmpty},v:function(){return getActiveFilterNames}})},94683:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return RunUsagePage}});var i,r,n,l=a(21973),s=a(28165),o=a(99029),d=a(47043),c=a(55414),p=a(38716),u=a(79102),g=a(26404),h=a(48469),m=a(54815),b=a(43930),v=a(25760),f=a(61390),y=a(87234),Z=a(11606),x=a(63615),w=a(44546),S=a(52522),U=a(44779),k=a(24602),L=a(48213),T=a(29227),M=a(73475),P=a(88348),B=a(73790),O=a(28590),z=a(19652),j=a(2357),I=a(19928),_=a.n(I),E=a(95235),X=a(81333),C=a(2784),D=a(3e3),R=a(33565),N=a(75990),H=a(1283),F=a(12741),A=a(57199),Y=a(88657),q=a(95030),K=a(44001),J="yyyy-MM-dd";function calcPercent(e,t){return(e-t.min)/(t.max-t.min)*100}var G=a(32052),W=a(52903),V=(0,s.iv)(D.ZT.paragraph3," bottom:2px;color:",o.w.neutral700,";left:20px;position:absolute;text-align:left;width:100%;z-index:2;;label:Limit--yLabelStyle;");function Limit(e){var t,a=e.isMetered,i=void 0!==a&&a,r=e.max,n=e.percent,l=e.value;return(0,W.tZ)("div",{css:[(0,s.iv)("align-items:center;border-bottom:",o.w.warning500," 3px dashed;bottom:calc(",n,"% + 10.5px);left:35px;position:absolute;width:calc(100% - 35px);;label:Limit--yGuideStyle;"),i&&(t=(void 0===r?0:r)-n,(0,s.iv)("background:#ffe7d145;height:",t,"%;;label:Limit--yMeteredStyle;")),";label:Limit--Limit;"],children:(0,W.BX)("div",{css:V,children:[i?"Metered":"Task limit"," (",i?">":"",(0,W.tZ)(G.Z,{isAbbreviated:!0,maxDecimals:1,children:l}),")"]})})}function Line(e){var t=(calcPercent(e.from,e.yRange)-calcPercent(e.to,e.yRange))*250/100,a=e.width,i=Math.sqrt(a*a+t*t),r=Math.asin(t/i)*(180/Math.PI);return(0,W.tZ)("div",{css:(0,s.iv)("border-top-color:",o.w[e.color],";border-top-style:",e.lineStyle||"solid",";border-top-width:3px;bottom:",calcPercent(e.from,e.yRange),"%;left:calc(50% - ",5,"px);position:absolute;transform-origin:left bottom;transform:translate(",e.translate,") rotate(",r,"deg);width:",i,"px;;label:Line--rootStyle;")})}var Q=a(26215),$=a(17712),ee=a(42413);function Point(e){var t=e.color,a=e.linkUrl,i=e.point,r=e.yRange,n=(0,C.useState)(!1),l=n[0],d=n[1],c="".concat(i.date.start,"_tip"),p="".concat(i.value," billable tasks on ").concat(i.formatted),u=calcPercent(i.value,r);return(0,W.BX)("div",{css:(0,s.iv)("bottom:calc(",u,"% - ",4,"px);left:calc(50% - ",5,"px);position:absolute;;label:Point--rootStyle;"),onMouseEnter:function(){return d(!0)},onMouseLeave:function(){return d(!1)},children:[(0,W.tZ)(Q.r,{ariaLabel:p,href:(0,$.aE)(a,{end_datetime:i.date.end,start_datetime:i.date.start}),children:(0,W.tZ)("div",{css:(0,s.iv)("background:",o.w[t],";border-radius:50%;height:",10,"px;width:",10,"px;transition:transform 150ms ease-in;&:hover{transform:scale(1.5, 1.5);};label:Point--pointStyle;")})}),l&&(0,W.tZ)(ee.j,{diff:i.diff,point:i,tipId:c})]})}var et=a(20271);function UsageMessage(e){var t=e.currentUsage,a=e.plan,i=e.planLimit,r=e.predictedUsage,n=Math.floor(((null==a?void 0:a.tasks)||0)-r),l=Math.floor(((null==a?void 0:a.tasks)||0)-t),s=Math.floor(i-r),o=Math.floor(i-t),d=(null==a?void 0:a.tasks)===0,c=!d&&l<0,p=o<0,u=s<0,g=(null==a?void 0:a.hasMeteredBilling)&&(u||p),h=!(null!=a&&a.hasMeteredBilling)||!u&&!p;return!d&&n<0||c?c?(0,W.BX)(et.b,{hasShadow:!1,title:(0,W.BX)(W.HY,{children:["You have exceed your plan task limit by"," ",(0,W.tZ)(G.Z,{children:Math.abs(l)})," tasks this billing period."]}),type:"error",children:["This could result in your runs being held until the next billing period starts or your"," ",(0,W.tZ)(Q.r,{href:"/app/billing/plans",children:"account is upgraded"}),"."]}):(0,W.BX)(et.b,{hasShadow:!1,title:(0,W.BX)(W.HY,{children:["Based on current usage you may exceed your plan task limit by"," ",(0,W.tZ)(G.Z,{children:Math.abs(n)})," tasks this billing period."]}),type:"error",children:["This could result in your runs being held until the next billing period starts or your"," ",(0,W.tZ)(Q.r,{href:"/app/billing/plans",children:"account is upgraded"}),"."]}):g?p?(0,W.BX)(et.b,{hasShadow:!1,title:(0,W.BX)(W.HY,{children:["You have exceed your included task allowance by"," ",(0,W.tZ)(G.Z,{children:Math.abs(o)})," tasks this billing period."]}),type:"warning",children:["This will result in metered billing of"," ",(0,W.tZ)(G.Z,{children:Math.abs(o)})," tasks and may reach"," ",(0,W.tZ)(G.Z,{children:Math.abs(s)})," tasks based on current usage."]}):(0,W.BX)(et.b,{hasShadow:!1,title:(0,W.BX)(W.HY,{children:["Based on current usage you may exceed your task allotment by"," ",(0,W.tZ)(G.Z,{children:Math.abs(s)})," this billing period."]}),type:"warning",children:["This will result in metered billing of"," ",(0,W.tZ)(G.Z,{children:Math.abs(s)})," tasks."]}):h?d?(0,W.BX)(et.b,{hasShadow:!1,type:"info",children:["Based on current usage you will use"," ",(0,W.tZ)(G.Z,{children:Math.floor(r)})," tasks this billing period."]}):(0,W.BX)(et.b,{hasShadow:!1,type:"info",children:["Based on current usage you will have"," ",(0,W.tZ)(G.Z,{children:Math.abs(null!=a&&a.hasMeteredBilling?s:n)})," ","tasks left at the end of the current period."]}):null}function ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,i)}return a}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(a),!0).forEach(function(t){(0,E.Z)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var ea={name:"1cyagzc-PredictiveUsageTrend--descStyle",styles:"margin-top:-20px;label:PredictiveUsageTrend--descStyle;"},ei=(0,s.iv)("display:grid;grid-auto-flow:column;grid-gap:3px;height:",250,"px;padding-bottom:28px;padding-left:40px;position:relative;;label:PredictiveUsageTrend--graphStyle;"),er=(0,s.iv)(D.ZT.smallPrint1," color:",o.w.neutral700,";display:none;gap:52px;justify-content:flex-end;position:absolute;top:-65px;width:100%;",S.w5.tablet,"{display:flex;};label:PredictiveUsageTrend--legendStyle;"),legendItemStyle=function(e,t){return(0,s.iv)("position:relative;::before{border-top:3px ",t," ",e,';bottom:calc(50% - 1.5px);content:" ";height:1px;left:-27px;position:absolute;width:22px;};label:PredictiveUsageTrend--legendItemStyle;')},en={name:"xnjyby-PredictiveUsageTrend--maxGraphStyle",styles:"justify-content:center;label:PredictiveUsageTrend--maxGraphStyle;"},el=(0,s.iv)("min-width:",66,"px;;label:PredictiveUsageTrend--maxPointStyle;"),es=(0,s.iv)("align-items:flex-end;display:grid;max-width:",66,"px;position:relative;;label:PredictiveUsageTrend--pointStyle;"),eo={name:"43pu5z-PredictiveUsageTrend--rootCss",styles:"display:grid;position:relative;gap:50px;label:PredictiveUsageTrend--rootCss;"},ed={name:"hocmij-PredictiveUsageTrend--yStyle",styles:"bottom:17px;height:calc(100% - 26px);position:absolute;width:100%;label:PredictiveUsageTrend--yStyle;"};function PredictiveUsageTrend(e){var t,a,i,r,n,l,d,p=e.billingPeriod,u=e.linkUrl,g=e.plan,h=e.trend,m=(0,H.a)(),b=(0,X.Z)(m,2),v=b[0],f=(null==(t=b[1])?void 0:null===(a=t.contentBoxSize)||void 0===a?void 0:null===(i=a[0])||void 0===i?void 0:i.inlineSize)||(null==t?void 0:null===(r=t.contentBoxSize)||void 0===r?void 0:r.inlineSize)||(null==t?void 0:null===(n=t.contentRect)||void 0===n?void 0:n.width)||0,y=(null!=g&&g.hasMeteredBilling?null===(l=g.meteredPricingTiers)||void 0===l?void 0:l[0].limit:null==g?void 0:g.tasks)||0,Z=(0,C.useMemo)(function(){return function(e){var t=e.billingPeriod,a=e.planLimit,i=e.trend;if(!i.length)return{points:[],yLabels:[],yRange:{max:0,min:0,step:0,steps:0}};var r=0,n=0,l=0,s=0,o=new Date,d=t.to?(0,k.Z)(t.to):o,c=t.from?(0,k.Z)(t.from):o,p=(0,A.Z)(d,c),u=p<10?1:p<20?2:p<100?Math.floor(p/6):Math.floor(p/4),g=Array.from({length:p},function(e,t){var a=(0,Y.Z)(c,t),o=(p=t%u==0,{label:g=(0,K.Z)(a),isGuide:p,subLabel:0===t||1===g?(0,q.Z)(a,"MMM"):null}),d=i.find(function(e){return(0,j.Z)((0,k.Z)(e.date),a)});if(!d)return{date:{end:(0,q.Z)(a,J),start:(0,q.Z)(a,J)},formatted:(0,q.Z)(a,"EEEE, MMMM do"),value:-1,xLabel:o};s+=1;var p,g,h,m,b=l+=(null==d?void 0:null===(h=d.tasks)||void 0===h?void 0:h.billable)||0;return n=Math.max(n,b),r=Math.min(r,b),{date:{end:(0,q.Z)(a,J),start:(0,q.Z)(a,J)},diff:null==d?void 0:null===(m=d.tasks)||void 0===m?void 0:m.billable,formatted:(0,q.Z)(a,"EEEE, MMMM do"),value:b,xLabel:o}}),h=l/s,m=n,b=function(e,t,a){if(a>t)return{max:a,min:e,step:(a-e)/4,steps:4};var i=t-e;if(0===i)return{max:t,min:e,step:0,steps:1};var r=i/4;if(r<1)return{max:t,min:e,step:1,steps:t-e};var n=Math.pow(10,Math.ceil(Math.log10(r)-1)),l=Math.ceil(r/n)*n,s=(Math.ceil((e+1)/n)-1)*n;return{max:4*l+s,min:s,step:l,steps:4}}(r,Math.max(h*p,n),a);return{average:h,currentUsage:m,points:g,yLabels:(0,F.Z)(Array.from({length:b.steps+1},function(e,t){return{percent:t/b.steps*100,value:b.min+t*b.step}})),yRange:b}}({billingPeriod:p,planLimit:y,trend:(null==h?void 0:h.tasksByDate)||[]})},[p,y,h]),x=Z.average,w=void 0===x?0:x,S=Z.currentUsage,U=Z.points,L=Z.yLabels,T=Z.yRange;if((null==h?void 0:null===(d=h.tasksByDate)||void 0===d?void 0:d.length)===0)return null;var M=f/Math.max(U.length,1),P=M>66&&66*U.length+.02*f*(U.length-1)<=f,B=w*U.length,O=(null==g?void 0:g.tasks)===0;return T.max>0?(0,W.BX)("figure",{"aria-label":"Trend graph",css:eo,children:[(0,W.tZ)("div",{css:ea,children:(0,W.tZ)(UsageMessage,{currentUsage:void 0===S?0:S,plan:g,planLimit:y,predictedUsage:B})}),(0,W.BX)("div",{css:er,children:[(0,W.tZ)("span",{css:legendItemStyle(o.w.blue,"solid"),children:"Actual usage"}),(0,W.tZ)("span",{css:legendItemStyle(o.w.neutral600,"dashed"),children:"Average usage"}),(0,W.tZ)("span",{css:legendItemStyle(o.w.warning500,"dashed"),children:"Task Limit"})]}),(0,W.BX)("div",{css:[ei,(0,s.iv)("grid-gap:",M<20?"3px":M<40?"4px":"2%",";;label:PredictiveUsageTrend--gapStyle;"),P&&en,";label:PredictiveUsageTrend--PredictiveUsageTrend;"],ref:v,children:[(0,W.BX)("div",{css:ed,children:[L.map(function(e,t){return(0,W.tZ)(N.Y,_objectSpread({idx:t,step:T.step},e),"ylabel_".concat(t))}),g&&!O&&(0,W.tZ)(Limit,{isMetered:null==g?void 0:g.hasMeteredBilling,max:Math.min(100,100*(null==g?void 0:g.tasks)/T.max),percent:100*y/T.max,value:y}),g&&!O&&(null==g?void 0:g.hasMeteredBilling)&&(null==g?void 0:g.tasks)<=T.max&&(0,W.tZ)(Limit,{isMetered:!1,percent:100*(null==g?void 0:g.tasks)/T.max,value:null==g?void 0:g.tasks})]}),U.map(function(e,t){var a=U[t+1],i=a&&a.value>=0;return(0,W.BX)("div",{css:[es,P&&el,";label:PredictiveUsageTrend--PredictiveUsageTrend;"],children:[0===t&&(0,W.tZ)(Line,{color:"neutral600",from:w,lineStyle:"dashed",to:w*U.length,translate:"3px, 0px",width:M*(U.length-.5),yRange:T}),i&&(0,W.tZ)(Line,{color:"blueJeans",from:e.value,to:a.value,translate:"2px, 0px",width:M,yRange:T}),e.value>0&&(0,W.tZ)(Point,{color:"blueJeans",linkUrl:u,point:e,yRange:T}),(0,W.tZ)(R.u,_objectSpread(_objectSpread({},e.xLabel),{},{width:M}))]},"xlabel_".concat(t))})]})]}):(0,W.tZ)(c.x,{color:"neutral700",type:"paragraph3",children:"No tasks found"})}var ec=a(23273),ep=a(87593);function UsageStat_ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,i)}return a}function UsageStat_objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?UsageStat_ownKeys(Object(a),!0).forEach(function(t){(0,E.Z)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):UsageStat_ownKeys(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var eu={name:"12fzvzr-UsageStat--detailStyle",styles:"display:grid;label:UsageStat--detailStyle;"},eg={name:"waoh1l-UsageStat--tipStyle",styles:"position:absolute;right:28px;top:20px;width:16px;svg{margin:-2px;};label:UsageStat--tipStyle;"},eh={name:"1fh6mvp-UsageStat--tipInnerStyle",styles:"box-sizing:border-box;padding-right:20px;width:300px;label:UsageStat--tipInnerStyle;"},em=(0,S.uq)({desktop:{name:"1t944m7-UsageStat--desktop",styles:"grid-template-columns:34px 1fr;padding:28px 20px;label:UsageStat--desktop;"},tablet:{name:"r6bji9-UsageStat--tablet",styles:"grid-gap:14px;grid-template-columns:30px 1fr;min-width:140px;padding:19px 10px;label:UsageStat--tablet;"},mobile:(0,s.iv)("align-items:center;border:1px solid ",o.w.neutral400,";border-radius:5px;display:grid;grid-gap:10px;grid-template-columns:24px 1fr;padding:10px;position:relative;;label:UsageStat--mobile;")});function UsageStat(e){var t=e.icon,a=e.isLoading,i=e.size,r=e.tip,n=e.title,l=e.value;return a?(0,W.tZ)(d.q,{height:"small"===i?60:108,width:"100%"}):(0,W.BX)("div",{css:em,"data-testid":"UsageStat",children:[(0,W.tZ)(ec.J,{color:"neutral800",name:t,size:"large"===i?40:"medium"===i?34:24}),(0,W.BX)("div",{css:eu,children:[(0,W.tZ)(c.x,{color:"neutral800",type:"large"===i?"paragraph3":"medium"===i?"smallPrint1":"smallPrint3",children:n}),(0,W.tZ)(c.x,{color:"neutral800",type:"large"===i?"sectionHeader1Bold":"medium"===i?"sectionHeader3Bold":"paragraph1",children:(0,W.tZ)(G.Z,{children:l})})]}),r&&(0,W.tZ)("div",{css:eg,children:(0,W.tZ)(ep.p,{allowMultilineTooltip:!0,content:(0,W.tZ)("div",{css:eh,children:r}),position:"southeast",children:function(e){return(0,W.tZ)(ec.J,UsageStat_objectSpread(UsageStat_objectSpread({},e),{},{color:"neutral800",name:"navHelp",size:24}))}})})]})}UsageStat.defaultProps={value:0};var eb=a(5632),ev=a(73026),ef=a(25522),ey=a(98628);(i=n||(n={}))[i.ascending=0]="ascending",i[i.descending=1]="descending",i[i.none=2]="none";var eZ=(r={},(0,E.Z)(r,n.ascending,"arrowSmallUp"),(0,E.Z)(r,n.descending,"arrowSmallDown"),(0,E.Z)(r,n.none,"arrowDropdown"),r),SortingIndicator=function(e){var t=e.direction,a=eZ[t],i=t===n.none?"neutral600":"blue";return(0,W.tZ)(ec.J,{canAcceptPointerEvents:!1,color:i,name:a,size:18})};SortingIndicator.defaultProps={direction:n.none};var ex={name:"1v0cd0o-SortableHeader--innerCss",styles:"align-items:flex-end;display:flex;label:SortableHeader--innerCss;"},ew=(0,s.iv)("background:transparent;cursor:pointer;color:",o.w.neutral800,";transition:",ey.f.transitionValue,";:hover,:focus{color:",o.w.blue,";}:focus{outline:1px dashed ",o.w.blue,";};label:SortableHeader--rootCss;"),eS=(0,s.iv)("color:",o.w.blue,";;label:SortableHeader--rootHighlightCss;"),eU=(0,s.iv)(D.ZT.smallPrint1Bold,";;label:SortableHeader--textCss;");function SortableHeader(e){var t=e.children,a=e.direction,i=e.onClick;return(0,W.tZ)("button",{css:[ew,a!==n.none&&eS,";label:SortableHeader--SortableHeader;"],onClick:i,children:(0,W.BX)("span",{css:ex,children:[(0,W.tZ)("span",{css:eU,children:t}),(0,W.tZ)(SortingIndicator,{direction:a})]})})}SortableHeader.defaultProps={direction:n.none};var ek=a(72579),eL=a.n(ek),ZapUsageList_useSorting=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.none,i=(0,C.useState)(t),r=i[0],l=i[1],s=(0,C.useState)(a),o=s[0],d=s[1],c=(0,C.useMemo)(function(){return function(e,t,a){if(!t)return e;var i=new Intl.Collator("co",{numeric:!0}).compare;return e.slice().sort(function(e,r){var l=eL()(e,t),s=eL()(r,t);return l||s?l?s?a===n.ascending?i(l,s):i(s,l):a===n.ascending?1:-1:a===n.ascending?-1:1:0})}(e,r,o)},[e,r,o]);return{direction:o,onSort:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.ascending,a=function(e,t){switch(e){case n.ascending:return n.descending;case n.descending:return n.ascending;case n.none:default:return t}}(e===r?o:n.none,t);r!==e&&l(e),d(a)},sortBy:r,sortedItems:c}},eT=a(27977),eM=a(32945),eP=a(96369),eB=a(12687),eO=a(82547),ez=a(15504),ej=a(74936),eI=a(75725),e_=a(92975),eE=a(93716),eX=a(31783),eC=a(30982),eD={dot:{name:"3lrumz-ZapStat--dot",styles:"border-radius:26px;height:10px;margin-right:5px;width:10px;label:ZapStat--dot;"},root:{name:"vrn60d-ZapStat--root",styles:"align-items:center;display:flex;label:ZapStat--root;"}};function Dot(e){var t=e.backgroundColor;return(0,W.tZ)("div",{css:[eD.dot,{backgroundColor:t},";label:ZapStat--Dot;"]})}var ZapStat_ZapStat=function(e){return(0,W.BX)("div",{css:eD.root,children:[(0,W.tZ)(Dot,{backgroundColor:e.count>0?o.w[e.color]:o.w.neutral600}),(0,W.tZ)(c.x,{color:"neutral800",type:"smallPrint1Bold",children:(0,W.tZ)(G.Z,{children:e.count})}),e.showLabel&&(0,W.BX)(c.x,{children:["\xa0",e.label]})]})},eR={name:"118sui2-ZapUsageListItem--appsStyle",styles:"grid-area:apps;label:ZapUsageListItem--appsStyle;"},eN={name:"jmqvj5-ZapUsageListItem--avatarStyle",styles:"grid-area:avatar;label:ZapUsageListItem--avatarStyle;"},eH={name:"s69f5w-ZapUsageListItem--detailsStyle",styles:"display:grid;grid-area:info;grid-gap:5px;label:ZapUsageListItem--detailsStyle;"},eF={name:"7kz6i0-ZapUsageListItem--menuStyle",styles:"padding:10px;label:ZapUsageListItem--menuStyle;"},eA=(0,S.uq)({desktop:{name:"1xp9gj1-ZapUsageListItem--desktop",styles:'grid-template-areas:"apps info used avatar arrow";grid-template-columns:135px 1fr 100px 40px 40px;grid-template-rows:1fr;label:ZapUsageListItem--desktop;'},mobile:{name:"a7fbao-ZapUsageListItem--mobile",styles:'align-items:center;display:grid;grid-gap:20px;grid-template-areas:"apps avatar arrow" "info info ." "used used .";grid-template-columns:1fr 40px 40px;grid-template-rows:40px 1fr 15px;label:ZapUsageListItem--mobile;'}}),eY={name:"1d8lsfr-ZapUsageListItem--usedStyle",styles:"grid-area:used;label:ZapUsageListItem--usedStyle;"},eq={name:"yvz09s-ZapUsageListItem--zapDetailsStyle",styles:"align-items:center;display:grid;grid-gap:10px;justify-content:flex-start;label:ZapUsageListItem--zapDetailsStyle;"},eK={name:"u5h8az-ZapUsageListItem--notTransferZapDetailsStyle",styles:"grid-template-columns:42px 1fr;label:ZapUsageListItem--notTransferZapDetailsStyle;"},eJ=(0,S.uq)({desktop:{name:"1uvdvky-ZapUsageListItem--desktop",styles:"align-items:center;flex-direction:row;label:ZapUsageListItem--desktop;"},mobile:{name:"1b4l2jp-ZapUsageListItem--mobile",styles:"align-items:flex-start;display:flex;flex-direction:column;gap:10px;overflow:hidden;label:ZapUsageListItem--mobile;"}}),eG={name:"1hzwfqr-ZapUsageListItem--ZapUsageListItem",styles:"position:relative;label:ZapUsageListItem--ZapUsageListItem;"};function ZapUsageListItem(e){var t,a,i=e.kind,r=e.logHref,n=e.showDetailsLink,l=e.size,s=e.zapUsage,o=(0,C.useState)(!1),d=o[0],p=o[1],u=s.zap.sourceUrl&&/app.slack.com/.exec(s.zap.sourceUrl),g="/webintent/edit-zap/".concat(s.zap.id);return(0,W.tZ)(e_.Z,{onClick:function(){return p(!d)},children:(0,W.BX)("div",{css:eA,"data-testid":"TopZapListItem",children:[(0,W.tZ)("div",{css:eR,children:(0,W.tZ)(eM.r,{maxServices:3,renderServiceIcon:function(e){return(0,W.tZ)(eX.A,{isInGroup:!0,serviceName:e,size:40})},services:s.apps||[],size:40})}),(0,W.BX)("div",{css:eH,children:[(0,W.BX)("span",{css:eJ,children:[(0,W.tZ)(eC.Z,{children:(0,W.tZ)(c.x,{color:"neutral800",type:"paragraph3Semibold",children:s.zap.title||v.E2})}),"transfer"===s.zap.kind&&(0,W.tZ)(eP.S,{color:"gray",size:"small",children:"Transfer"})]}),(0,W.BX)("div",{css:[eq,"transfer"!==i&&eK,";label:ZapUsageListItem--ZapUsageListItem;"],children:["transfer"!==i&&(0,W.tZ)(eP.S,{color:s.zap.isEnabled?"success":"gray",size:"small",children:s.zap.isEnabled?"On":"Off"}),(0,W.BX)(c.x,{color:"neutral700",type:"smallPrint1",children:[(0,W.tZ)("strong",{children:"Last ran on • "}),(0,W.tZ)(eT.Z,{date:s.lastRun,format:"MMM DD, YYYY hh:mm a"})]})]}),u&&(0,W.tZ)(eE.Z,{logoClass:"SlackAPI",serviceName:"Slack",sourceUrl:s.zap.sourceUrl})]}),(0,W.tZ)("div",{css:eY,children:(0,W.tZ)(ZapStat_ZapStat,{color:"blueJeans",count:s.tasks.billable||0,label:"Tasks used",showLabel:"large"!==l})}),(0,W.tZ)("div",{css:eN,children:(0,W.tZ)(eB.O,{name:(null===(t=s.zapOwner)||void 0===t?void 0:t.name)||"",size:40,url:null===(a=s.zapOwner)||void 0===a?void 0:a.imageUrl})}),(0,W.BX)("div",{css:eG,children:[(0,W.tZ)(eO.C,{icon:"navMoreHoriz",label:"Open Zap menu",onClick:function(){return p(!0)},tabIndex:-1}),d&&(0,W.tZ)(ez.f,{align:"right",intersectHeight:140,minWidth:"275px",onClickOutside:function(){return p(!1)},children:(0,W.tZ)("div",{css:eF,children:(0,W.BX)(ej.v,{ariaLabel:"Zap actions",children:[(0,W.tZ)(eI.s,{href:g,children:"Edit"},"editor"),n&&(0,W.tZ)(eI.s,{href:"/app/zap/".concat(s.zap.id),children:"View details"},"details"),(0,W.tZ)(eI.s,{href:r,children:"View runs"},"history")]})})})]})]})})}function ZapUsageList_ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,i)}return a}function ZapUsageList_objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ZapUsageList_ownKeys(Object(a),!0).forEach(function(t){(0,E.Z)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ZapUsageList_ownKeys(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var eW=(0,S.uq)({desktop:{name:"1ukft3w-ZapUsageList--desktop",styles:"align-items:flex-end;display:grid;grid-auto-flow:column;grid-gap:20px;grid-template-columns:135px 1fr 242px;justify-content:flex-start;label:ZapUsageList--desktop;"},mobile:(0,s.iv)(D.ZT.superTitle1," color:",o.w.black,";display:none;padding-left:20px;;label:ZapUsageList--mobile;")}),eV=(0,s.iv)(D.ZT.paragraph3Medium," color:",o.w.neutral700,";padding:15px 0;text-align:center;;label:ZapUsageList--listLimitMessageStyle;"),eQ={name:"anfz9n-ZapUsageList--rootStyle",styles:"display:grid;grid-gap:20px;label:ZapUsageList--rootStyle;"},ZapUsageList_ZapUsageList=function(e){var t,a=(0,eb.useRouter)().query,i=(0,Z.t)(),r=ZapUsageList_useSorting(e.zapUsage),l=e.zapUsage&&e.zapUsage.length>0;return(0,W.BX)("div",{css:eQ,"data-testid":"TopZapsList",children:[(e.isLoading||l)&&(0,W.BX)("div",{css:eW,"data-testid":"TopZapsHeader",children:[(0,W.tZ)("div",{className:"placeholder"}),(0,W.tZ)(SortableHeader,{direction:"zap.title"===r.sortBy?r.direction:void 0,onClick:function(){return r.onSort("zap.title")},children:"Zap details"}),(0,W.tZ)(SortableHeader,{direction:"tasks.billable"===r.sortBy?r.direction:void 0,onClick:function(){return r.onSort("tasks.billable",n.descending)},children:"Tasks used"})]}),e.isLoading&&(0,W.tZ)(ev.Z,{gap:10,itemRenderer:function(){return(0,W.tZ)(d.q,{height:"70px",width:"100%"})},items:Array.from({length:3})}),!e.isLoading&&!l&&(0,W.tZ)(ef.I,{handleFilterReset:e.handleFilterReset,hasError:e.hasError,isFilterEmpty:e.isFilterEmpty,size:i}),!e.isLoading&&l&&(0,W.tZ)(ev.Z,{gap:10,getKey:function(e){return e.zapId},itemRenderer:function(t){return(0,W.tZ)(ZapUsageListItem,{logHref:(0,$.aE)(e.logHref,ZapUsageList_objectSpread(ZapUsageList_objectSpread({},a),{},{root_id:t.zap.id})),showDetailsLink:!0,size:i,zapUsage:t,kind:t.zap.kind})},items:r.sortedItems}),(null===(t=e.zapUsage)||void 0===t?void 0:t.length)===100&&(0,W.BX)("div",{css:eV,"data-testid":"UsageLimitMessage",children:["Showing top ",100," results"]})]})},e$={name:"1i7v3y3-TaskUsageTab--rootStyle",styles:"display:grid;grid-gap:20px;position:relative;label:TaskUsageTab--rootStyle;"},e0=(0,S.uq)({tablet:{name:"1dtcb18-TaskUsageTab--tablet",styles:"grid-template-columns:1fr 1fr;grid-gap:29px;label:TaskUsageTab--tablet;"},mobile:{name:"29vp2n-TaskUsageTab--mobile",styles:"display:grid;grid-gap:20px;label:TaskUsageTab--mobile;"}}),e1=(0,s.iv)("display:grid;border:1px solid ",o.w.neutral400,";border-radius:5px;grid-gap:45px;padding:30px 30px 35px 30px;;label:TaskUsageTab--taskTrendStyle;");function TaskUsageTab(e){var t,a,i=e.filters,r=e.handleFilterReset,n=e.interval,l=e.isUsageLoading,s=e.isUsageRefetching,o=e.periodUsage,S=e.stats,I=e.taskTrend,E=e.usageError,X=e.usageUsingCache,C=e.zapUsage,D=(0,p.X8)(),R=(0,y.g)(),N=R.currentBillingPeriod,H=R.isLoading,F=R.plan,A=(0,Z.t)(),Y=(0,x.V)().flags,q=(0,w.a)(),K=l||!q,J=(0,U.g)(i),G=(I||[]).length>0,V=!!E,Q={end:(null===(t=i.dateFilter)||void 0===t?void 0:t.to)||(null==N?void 0:N.to)||"",start:(null===(a=i.dateFilter)||void 0===a?void 0:a.from)||(null==N?void 0:N.from)||""},$=function(e,t){var a,i=t.end,r=void 0===i?"":i,n=t.start,l=void 0===n?"":n,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=(0,k.Z)(r),d=(0,k.Z)(l);if(0===s||!e||!r||!l||24>=Math.abs((0,L.Z)(d,o)))return null;var c=0,p=!1,u=new Date,g=(0,T.Z)(o,u)>0?u:o;return(e===f.YT.year?(c=Math.abs((0,M.Z)(d,g))+1,a=_()("year",c),p=(0,P.Z)(g,u)):e===f.YT.month?(c=Math.abs((0,B.Z)(d,g))+1,a=_()("month",c),p=(0,O.Z)(g,u)):e===f.YT.day&&(c=Math.abs((0,T.Z)((0,z.Z)(d),g))+1,a=_()("day",c),p=(0,j.Z)(g,u)),p)?"Past ".concat(c," ").concat(a):"".concat(c," ").concat(a)}(n,Q,null==I?void 0:I.length),ee=(0,U.v)(i),et=K||s,ea=K&&!X||!s&&X;return(0,u.R)("task-usage-actual-search-time",et,{activeFilters:ee}),(0,u.R)("task-usage-time-to-results",ea,{activeFilters:ee}),(0,g.u)("task-usage-time-to-first-results",!K,{activeFilters:ee}),(0,W.BX)("div",{css:e$,children:[s&&(0,W.tZ)(h.Z,{}),(K||!D||G)&&!V&&(0,W.BX)("div",{css:e0,children:[(0,W.tZ)(UsageStat,{icon:"miscBoltAlt",isLoading:K||!D,size:A,tip:"When you turn your Zap on, it will run the action steps every time the trigger event occurs. This is a count of the resulting Zaps that ran at least once during the date range provided.",title:"Zaps that ran",value:null==S?void 0:S.zaps},"zaps"),(0,W.tZ)(UsageStat,{icon:"formCheckCircle",isLoading:K||!D,size:A,tip:"Whenever your Zap successfully completes an action, it counts as a task. Trigger steps do not count as tasks, but successful action steps do. You can see all the tasks your resulting Zaps have attempted here.",title:"Tasks automated",value:null==S?void 0:S.tasks},"tasks")]}),(null==Y?void 0:Y.monitor_predictive_task_graph)&&!V&&(K||!D||H?(0,W.tZ)(d.q,{height:436,width:"100%"}):(0,W.BX)("div",{css:e1,children:[(0,W.BX)("span",{children:[(0,W.tZ)(c.x,{color:"neutral800",tag:"h3",type:"subHeader1Bold",children:"Tasks"}),(0,W.tZ)(c.x,{color:"neutral700",type:"smallPrint1",children:"Current billing period"})]}),(0,W.tZ)(PredictiveUsageTrend,{billingPeriod:N,linkUrl:"/app/history",plan:F,trend:o})]})),K||!D?(0,W.tZ)(d.q,{height:436,width:"100%"}):G&&(0,W.BX)("div",{css:e1,children:[(0,W.BX)("span",{children:[(0,W.tZ)(c.x,{color:"neutral800",tag:"h3",type:"subHeader1Bold",children:"Tasks"}),(0,W.tZ)(c.x,{color:"neutral700",type:"smallPrint1",children:$})]}),(0,W.tZ)(m.Z,{interval:n||f.YT.day,linkUrl:"/app/history",markers:[{date:(null==N?void 0:N.from)||"",label:"Billing Reset"},{date:(null==N?void 0:N.to)||"",label:"Billing Reset"}],range:Q,trend:I,trendType:b.r.tasks})]}),"large"===A&&(0,W.tZ)("span",{}),(0,W.tZ)(ZapUsageList_ZapUsageList,{handleFilterReset:r,hasError:!!E,isFilterEmpty:J,isLoading:!q||K,logHref:v._j.log,zapUsage:C})]})}var e2=a(85665),e3=a(7656);function RunUsagePage(){var e=(0,eb.useRouter)();return(0,W.tZ)(e2.D,{title:"Usage | Zap History",children:(0,W.tZ)(e3.X,{children:(0,W.tZ)(l.nM,{showFilters:!0,children:function(t){var a=t.handleFilterChange,i=t.handleFilterReset,r=t.filters,n=t.interval,l=t.isUsageLoading,s=t.isUsageRefetching,o=t.periodUsage,d=t.taskTrend,c=t.stats,p=t.usageError,u=t.usageUsingCache,g=t.zapUsage;return(0,W.tZ)(TaskUsageTab,{filters:r,handleFilterChange:a,handleFilterReset:i,handleOpenDownloadRunsModal:function(){return null},interval:n,isUsageLoading:l,isUsageRefetching:s,navigateParentWindow:e.push,periodUsage:o,rightComponent:null,showOwner:!0,showZapDetails:!0,taskTrend:d,stats:c,usageError:p,usageUsingCache:u,zapUsage:g})}})})})}},79102:function(e,t,a){"use strict";a.d(t,{R:function(){return useClock}});var i=a(2784),r=a(23356);function useClock(e,t,a){var n=(0,i.useRef)();(0,i.useEffect)(function(){if((0,r.M)()){var i="".concat(e,"_start");if(t){window.performance.mark(i),n.current=!0;return}var l=window.performance.getEntriesByName(i,"mark").length>0;if(n.current&&l){var s=window.performance.measure(e,{detail:a,start:i});n.current=!1,console.debug("⏱️ ".concat(e," measured ").concat(s.duration,"ms"))}}},[e,t])}},26404:function(e,t,a){"use strict";a.d(t,{u:function(){return useTimeSinceNavigation}});var i=a(2784),r=a(23356);function useTimeSinceNavigation(e,t,a){var n=(0,i.useRef)(!1);(0,i.useEffect)(function(){if((0,r.M)()&&t&&!n.current){n.current=!0;var i,l=(i="routeChangeStart",window.performance.getEntriesByName(i,"mark").length>0?i:"navigationStart"),s=window.performance.measure(e,{detail:a,start:l});console.debug("⏱️ ".concat(e," measured ").concat(s.duration,"ms since navigationStart"))}},[e,t])}},23356:function(e,t,a){"use strict";a.d(t,{M:function(){return isPerformanceApiAvailable}});var i,isPerformanceApiAvailable=function(){if(void 0!==i)return i;try{performance.measure("isPerformanceApiAvailableTest",{detail:{foo:"bar"},start:"navigationStart"}),i=!0}catch(e){i=!1}return i}},41332:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app/history/usage",function(){return a(94683)}])}},function(e){e.O(0,[9716,6314,9224,2291,7254,6409,776,407,5196,129,975,7109,8558,245,9459,7202,1337,9124,310,2436,6504,4815,9774,2888,179],function(){return e(e.s=41332)}),_N_E=e.O()}]);